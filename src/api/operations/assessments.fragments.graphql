fragment FormDefinitionFields on FormDefinition {
  id
  version
  role
  status
  identifier
}

fragment PickListOptionFields on PickListOption {
  code
  label
  secondaryLabel
  groupLabel
  initialSelected
}

fragment ItemFields on FormItem {
  linkId
  prefix
  text
  helperText
  required
  hidden
  readOnly
  repeats
  queryField
  pickListReference
  pickListOptions {
    ...PickListOptionFields
  }
  enableBehavior
  enableWhen {
    question
    operator
    answerCode
    answerNumber
    answerBoolean
  }
}
fragment FormDefinitionWithJson on FormDefinition {
  ...FormDefinitionFields
  definition {
    item {
      ...ItemFields
      item {
        ...ItemFields
      }
    }
  }
}

fragment AssessmentDetailFields on AssessmentDetail {
  id
  dataCollectionStage
  role
  status
}

fragment AssessmentFields on Assessment {
  id
  inProgress
  assessmentDate
  assessmentLevel
  assessmentLocation
  assessmentType
  prioritizationStatus
  dateCreated
  dateUpdated
  dateDeleted
  assessmentDetail {
    ...AssessmentDetailFields
    definition {
      ...FormDefinitionFields
    }
  }
}

# contains big JSON definition & current values
fragment AssessmentWithDefinitionAndValues on Assessment {
  ...AssessmentFields
  assessmentDetail {
    ...AssessmentDetailFields
    values
    definition {
      ...FormDefinitionWithJson
    }
  }
}
