query GetAssessment($id: ID!) {
  assessment(id: $id) {
    ...AssessmentWithDefinitionAndValues
  }
}

query GetPickList($pickListType: PickListType!, $relationId: ID) {
  pickList(pickListType: $pickListType, relationId: $relationId) {
    ...PickListOptionFields
  }
}

query GetEnrollmentAssessments(
  $id: ID!
  $limit: Int = 10
  $offset: Int = 0
  $roles: [FormRole!]
  $inProgress: Boolean
) {
  enrollment(id: $id) {
    id
    assessments(
      limit: $limit
      offset: $offset
      roles: $roles
      inProgress: $inProgress
      sortOrder: ASSESSMENT_DATE
    ) {
      offset
      limit
      nodesCount
      nodes {
        ...AssessmentFields
      }
    }
  }
}

query GetFormDefinition($role: FormRole!, $enrollmentId: ID, $projectId: ID) {
  getFormDefinition(
    role: $role
    enrollmentId: $enrollmentId
    projectId: $projectId
  ) {
    ...FormDefinitionWithJson
  }
}

mutation SaveAssessment($input: SaveAssessmentInput!) {
  saveAssessment(input: $input) {
    assessment {
      ...AssessmentWithDefinitionAndValues
    }
    errors {
      ...ValidationErrorFields
    }
  }
}

mutation SubmitAssessment($input: SubmitAssessmentInput!) {
  submitAssessment(input: $input) {
    assessment {
      ...AssessmentWithDefinitionAndValues
    }
    errors {
      ...ValidationErrorFields
    }
  }
}

mutation SubmitHouseholdAssessments($input: SubmitHouseholdAssessmentsInput!) {
  submitHouseholdAssessments(input: $input) {
    assessments {
      id
      inProgress
    }
    errors {
      ...ValidationErrorFields
    }
  }
}

query GetAssessmentsForPopulation(
  $id: ID!
  $limit: Int = 10
  $offset: Int = 0
  $roles: [FormRole!]
  $inProgress: Boolean
) {
  client(id: $id) {
    id
    assessments(
      limit: $limit
      offset: $offset
      roles: $roles
      inProgress: $inProgress
      sortOrder: ASSESSMENT_DATE
    ) {
      offset
      limit
      nodesCount
      nodes {
        ...AssessmentWithValues
      }
    }
  }
}

mutation DeleteAssessment($id: ID!) {
  deleteAssessment(input: { id: $id }) {
    clientMutationId
    assessment {
      ...AssessmentFields
    }
    errors {
      ...ValidationErrorFields
    }
  }
}
