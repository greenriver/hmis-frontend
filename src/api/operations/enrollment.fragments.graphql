fragment EnrollmentFields on Enrollment {
  id
  lockVersion
  entryDate
  exitDate
  exitDestination
  project {
    ...ProjectNameAndType
  }
  inProgress
  relationshipToHoH
  enrollmentCoc
  householdId
  householdShortId
  householdSize
  client {
    ...ClientNameDobVet
  }
  access {
    ...EnrollmentAccessFields
  }
  currentUnit {
    id
    name
  }
}

# FIXME: stop resolving client/project access objects. Instead, put what we need to know
# inside of the Enrollment access obj
fragment AllEnrollmentDetails on Enrollment {
  ...EnrollmentFields
  ...EnrollmentOccurrencePointFields
  intakeAssessment {
    id
  }
  exitAssessment {
    id
  }
  customDataElements {
    ...CustomDataElementFields
  }
  # Need to resolve CDEs on Client too, so they can be shown on enrollment dash.
  client {
    hudChronic
    ...ClientNameDobVet
    customDataElements {
      ...CustomDataElementFields
    }
    access {
      ...ClientAccessFields
    }
  }
  openEnrollmentSummary {
    ...EnrollmentSummaryFields
  }
  project {
    ...ProjectNameAndType
    ...ProjectCocCount
    hasUnits
    dataCollectionFeatures {
      ...DataCollectionFeatureFields
    }
    occurrencePointForms {
      ...OccurrencePointFormFields
    }
    access {
      ...ProjectAccessFields
    }
  }
}

# Values that could possibly need to be displayed/edited on the Enrollment Details card
# (as opposed to values that are only needed for assessments, which is the whole EnrollmentValues fragment)
fragment EnrollmentOccurrencePointFields on Enrollment {
  id
  lockVersion
  entryDate
  exitDate
  dateOfEngagement
  moveInDate
  livingSituation
  enrollmentCoc
  dateOfPathStatus
  clientEnrolledInPath
  reasonNotEnrolled
  disablingCondition
  translationNeeded
  preferredLanguage
  preferredLanguageDifferent
}

# for assessments
fragment EnrollmentValues on Enrollment {
  id
  lockVersion
  entryDate
  exitDate
  dateOfEngagement
  moveInDate
  livingSituation
  rentalSubsidyType
  lengthOfStay
  losUnderThreshold
  previousStreetEssh
  dateToStreetEssh
  timesHomelessPastThreeYears
  monthsHomelessPastThreeYears
  enrollmentCoc
  dateOfPathStatus
  clientEnrolledInPath
  reasonNotEnrolled
  percentAmi
  referralSource
  countOutreachReferralApproaches
  dateOfBcpStatus
  eligibleForRhy
  reasonNoServices
  runawayYouth
  sexualOrientation
  sexualOrientationOther
  formerWardChildWelfare
  childWelfareYears
  childWelfareMonths
  formerWardJuvenileJustice
  juvenileJusticeYears
  juvenileJusticeMonths
  unemploymentFam
  mentalHealthDisorderFam
  physicalDisabilityFam
  alcoholDrugUseDisorderFam
  unemploymentFam
  mentalHealthDisorderFam
  physicalDisabilityFam
  alcoholDrugUseDisorderFam
  insufficientIncome
  incarceratedParent
  targetScreenReqd
  timeToHousingLoss
  annualPercentAmi
  literalHomelessHistory
  clientLeaseholder
  hohLeaseholder
  subsidyAtRisk
  evictionHistory
  criminalRecord
  incarceratedAdult
  prisonDischarge
  sexOffender
  disabledHoh
  currentPregnant
  singleParent
  dependentUnder6
  hh5Plus
  cocPrioritized
  hpScreeningScore
  thresholdScore
  vamcStation
  translationNeeded
  preferredLanguage
  preferredLanguageDifferent
}

# Fields that need to be returned from SubmitForm. This should include anything
# that can be changed via form submission
fragment SubmittedEnrollmentResultFields on Enrollment {
  ...EnrollmentFields
  ...EnrollmentOccurrencePointFields
  customDataElements {
    ...CustomDataElementFields
  }
}

fragment EnrollmentWithHouseholdFragment on Enrollment {
  ...EnrollmentFields
  household {
    id
    shortId
    householdClients {
      ...HouseholdClientFields
    }
  }
}

fragment EventFields on Event {
  id
  event
  eventDate
  locationCrisisOrPhHousing
  probSolDivRrResult
  referralCaseManageAfter
  referralResult
  resultDate
  dateCreated
  dateUpdated
  dateDeleted
  user {
    ...UserFields
  }
}

fragment CeAssessmentFields on CeAssessment {
  id
  assessmentDate
  assessmentLevel
  assessmentLocation
  assessmentType
  dateCreated
  dateUpdated
  dateDeleted
  prioritizationStatus
  user {
    ...UserFields
  }
}

fragment EnrollmentSummaryFields on EnrollmentSummary {
  id
  entryDate
  inProgress
  moveInDate
  projectId
  projectName
  projectType
  canViewEnrollment
}
