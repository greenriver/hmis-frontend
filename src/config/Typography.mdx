import { Meta } from '@storybook/blocks';
import { ThemeProvider, Typography } from '@mui/material';
import theme from '@/config/theme';

<Meta title='Typography' />

export const SampleText =
  'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis eu diam sed ipsum vulputate condimentum accumsan et massa. Pellentesque sit amet placerat purus. Vestibulum quis risus at lacus scelerisque hendrerit sed a ante. Nulla vel rhoncus arcu. Sed efficitur fringilla aliquam. Etiam sagittis bibendum urna, in imperdiet tellus commodo nec.';

# Typography

The typography below reflects the default theme of the application.

<ThemeProvider theme={theme}>
  {Object.entries(theme.typography).map(([k, v]) => {
    // We haven't used Storybook's built-in Typeset here, which is more useful for displaying a flexible type system
    // (different font weights in combination with different sizes).
    if (typeof v === 'object' && k !== 'inherit') {
      return (
        <>
          <Typography variant={k}>
            {formatTypeString(k)}
            {k.startsWith('body') && ': ' + SampleText}
          </Typography>
          <br />
        </>
      );
    }
    // else - the non-object items in the theme.typography map are default MUI values like fontWeightRegular, fontWeightBold.
  })}
</ThemeProvider>

export function formatTypeString(input) {
  return input
    .replace(/^h(\d)/, 'Heading $1') // Convert 'h' followed by a digit
    .replace(/([a-z])([A-Z])/g, '$1 $2') // Convert camelCase to spaces
    .replace(/\d+/, (match) => ' ' + match) // Add space before numbers
    .replace(/^./, (str) => str.toUpperCase()); // Capitalize first letter
}
